---
title: "MaxEnt Toolbox"
author: "Oakology"
date: "January 11, 2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


Scenario Selection

```{r extent_selection}

#Change scenario- one thing to change throughout
scenario<-"allisland_10m"

#options:
#ai_270m
#ni_270m
#sca_270m
#sca_int_270m
#scr_270m
#sri_270m
#sri_adultyoung_270m
#sri_seedsap_270m
#ni_fog_270m?
#scr_fog_270m
#sri_fog_270m
#sri_fog_adultyoung_270m
#sri_fog_seedsap_270m

#Slope ones?
#Historic ranches?

#Make combine sections based on extents chosen because greatly differs-otherwise just have a lot of if else statements

```

Load Packages

```{r packages, message=FALSE}


library(tidyverse)
library(sf)
library(raster)
#library(sp)
#library(rgdal)
#library(maptools)
#library(dismo)

```



Extent

```{r}

extent_name<-"allisland_10m"

#Island Outline and Extent
#island_outline<-"G:\data\islands\all_islands\Channel_Islands_CUSP\Channel_Islands_CUSP_Teale_Albers\Channel_Islands_CUSP_Teale_Albers.shp"

#extent<-"G:\data\climate\GISModel_Input\historic\cwd1981_2010_ave_HST_1539127145.tif"

#Extract by Mask
#Input Extent with mask of island outline
#Save as G:\data\islands\MaxEnt\Processing\Extent\maskedextent.tif

#Resample-Remove step
#Take masked extent and make output raster dataset G:\data\islands\MaxEnt\Extent\%Name%.tif with output cell size of 270by270 using nearest resampling technique

#save final file as G:\data\islands\MaxEnt\Extent\%Name%.tif

```


Oak Combined and Individual

```{r}
#Oak Points
#Make sure oak points made first

#SCAOakPoints<-"G:\data\islands\sca\Quertome\SCAOakPoints_AEA.shp"

#SRIOakPoints<-"G:\data\islands\sri\OakPoint\SRI_OakPoints_AEA.shp"
  
#SCROakPoints<-"G:\data\islands\scr\OakPoint\SCROakPoints_AEA.shp"

#Merge all the oak points and save as below shape file

#merge_all_oak<-"G:\data\islands\MaxEnt\Processing\Oak\merge_all_oak.shp"

#Add xy coordinates

#Add field called Species
#Calulate Field- fill with "quercus tomentella"


#Table to Table

#OakWorkspace<-G:\data\islands\MaxEnt\MEInputOak\all_islands_100m
#OutputTable<-OakPoints.csv

#Save to Oak Workspace plus output table


#Also create options for oak points individuals

#comebine based on scenario

#Maybe for loop?

#if all islands then merge all three
#if north islands combine two
#If one island than that island
#if SRI subset then by the oak seed or sap category

```



Climate

```{r}

#For loop through extents 
  #For loop through projections
    #For loop through climate variables
      #Extract climate variable by extent mask
        #Use crop (climate, extent)
      #Save as asc raster-just write raster as type asc
        #Ex: writeRaster(bd.f,paste0("C:/RAIDa/sparc_focal/NT/",focal[i],"/Climate_Soils_ASC/30s/",gcms[j],"/",decades[k],"/bulkdensity.asc"),overwrite=TRUE)
        #Save to G:\data\climate\MEInput\allislands_100m\historic except substitue in extent and projection and then include climate variable name

```



Island

```{r}

#Write these out by not using them??? Make them all but then only carry over to MaxEnt folders the files being used-change that in BCM_organization script, slash add BCM_organization script here

#For loop throug

#Soils-take what Claire has?
#Polygon to raster, crop by extent, save as raster asc

#DEM
#Merge if all islands otherwise keep separate?-mosaic to new raster
#Crop by extent 
#calculate Slope, Aspect
#Save all three as new DEMs

#Vegetation
#Make sure vegetation scripts run first and vegetation groups made
#Polygon to Raster for each island
#Merge if all islands otherwise keep separate-mosaic to new raster for ai or ni
#Crop by extent
#Write asc raster


```



Fog

```{r}

#Based on extent since only performing these for fog extent options

#Take fog layers-have to figure out how stored and how can for loop through
#Crop by extent
#Write asc raster for those fog options

```



Organization

```{r}

#Copy over code from BCM_organization but add in for all options made above but can select which of the variables actually should be carried over based on our decisions
#And based on scenario-some have fog and others dont and difference in oak points



```

